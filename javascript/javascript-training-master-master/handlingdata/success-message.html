<!DOCTYPE html>
<html>

<head>
    <title>
        My Page with JavaScript
    </title>

</head>

<body>
    <h2>Be ready to validate data</h2>
    <div id="message"></div>
    <form id="loginform" name="myform1" onsubmit="validateForm()" action="LoginServlet" method="GET">
        Enter name:<input type="text" name="username" required id="username"><br>
        <button type="submit"> Validate</button>
    </form>
    <script>
        function validateForm() {
            event.preventDefault();//to prevent the default behaviour of navigation
            let username = document.querySelector("#username").value;
            try {
                //throw new Error("Username cannot be empty"); //test
                if (username == null || username.trim() == "") {
                    throw new Error("Username cannot be empty");
                }
                else if (username.length < 8) {
                    throw new Error("Username must be min 8 characters")
                }
                //compare todayDate > dob 

                //validation passed

              //  alert("welcome" + username);
                document.querySelector("#message").innerHTML = "success";

            }
            //catch(Exception err) => err.getMessage()
            catch (err) {
                console.error(err);
                console.log("Validation FAiled:" + err.message);
                //alert("Error:" + err.message);
                document.querySelector("#message").innerHTML = "error" + err.message;

            }
        }
    </script>
</body>

</html>